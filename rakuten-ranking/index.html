<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>簡単にランキングコンテンツを作成するページ</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"> -->
  </head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
</head>
<body>
<div class="content">

  <h1>楽天のランキングパーツを作る！</h1>
  楽天のリアルタイムランキングを参照し、ブログに埋め込むパーツ生成するJavaScriptのテストページです。<br>
  HTMLの貼り付けて生成ボタンを押すと、HTMLにランキングデータを埋め込むことができます。<br>
  サンプルを3つおいてあります。作った経緯は<a href="https://kanaxx.hatenablog.jp/entry/realtime-ranking-parts">ブログ</a>に書いてあります。使い方とソースコードは<a href="https://github.com/kanaxx/hatenablog-omocha/tree/main/rakuten-ranking">Github</a>に書いてあります。
  <li><a href="sample.html">シンプルなサンプル</a>｜<a href="sample-table.html">テーブルのサンプル</a>｜<a href="sample-sidebar.html">サイドバー風</a></li>
  

  <h2>1. APIの結果を埋め込むHTMLのテンプレートを入力</h2>
  <div  style="padding:10px">
    <textarea id="html-template"  class="input" style="height:200px">
<div id="rakuten-aff-parts">
  <h3>楽天市場のリアルタイムランキング</h3>
  <p>最終更新日：<span data-raku="lastBuildDate"></span></p>
  <div class="rakuten-aff-item" style="border:black solid 3px;margin-bottom:5px;padding:5px">
    <span><span data-raku="rank"></span> 位</span><br>
    <span><span data-raku="itemPrice"></span> 円</span><br>
    <a href="" data-raku="affiliateUrl">
      <img src="" data-raku="mediumImageUrls" style="float:left"> <span data-raku="itemName"></span>
    </a>
    <br style="clear: left;">
  </div>
</div>
      
    </textarea>
  </div>


  <h2>2. ジャンルと取得件数を設定</h2>
  <div id="rakuten-aff-config" style="padding:10px">
    楽天のジャンルID：<input type="text" class="input" name="genreId" value="564895"><br>
    取得件数（1-30）：<input type="text" class="input" name="display" value="10"><br>
    
    <input type="hidden" name="applicationId" value="1027300763038019149"> <input type="hidden" name="affiliateId" value="04021205.0d23044c.04021206.437bb859"><br>
    <button id="btn"  class="button" onclick="btn();"> 生成する</button>

  </div>


  <hr>

  <h2>3. リアルタイムランキングの結果を出力</h2>
  <div id="result">
    <div id="rakuten-aff-parts"></div>
  </div>

</div>
</body>

<script src="./ranking-generator.js"></script>
<script>
  function btn(){
    let html = document.getElementById('html-template');
    console.log(html.value);
    let result = document.getElementById('result');
    console.log(result);
    result.innerHTML = html.value;
    setRakutenAff();
    showRakutenAffItems();
  }
</script>

</html>